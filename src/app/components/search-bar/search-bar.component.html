<div class="search pb-5">
    <div class="search-bar">
        <form class="example-form" [formGroup]='usersForm'>
            <mat-form-field class="search-input">
                <input placeholder="Find HCP's..." type="text" 
                       matInput [matAutocomplete]="auto" formControlName='userInput'>
                <div class="search-btn btn btn-primary btn-lg" [routerLink]="[ '/list']">
                    <i class="icon ion-md-search"></i>
                </div>
<mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" (optionSelected)='optionSelect($event)'>
                    <mat-option *ngIf="isLoading" class="is-loading">
                        <mat-spinner diameter="50"></mat-spinner>
                    </mat-option>
                    <ng-container *ngIf="!isLoading">
                        <mat-table [dataSource]="filteredUsers[0]" class="company-mat-table">
                            <ng-container matColumnDef="name">
                                <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
                                <mat-cell *matCellDef="let opt">
                                    {{opt.first_name}}
                                </mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="address">
                                <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
                                <mat-cell *matCellDef="let opt">
                                    {{opt.address1}}
                                </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="city">
                                <mat-header-cell *matHeaderCellDef>City</mat-header-cell>
                                <mat-cell *matCellDef="let opt">
                                    {{opt.city}}
                                </mat-cell>
                            </ng-container>
                            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                            <mat-option *matRowDef="let opt; columns: displayedColumns" [value]="opt">
                                <mat-row></mat-row>
                            </mat-option>
                        </mat-table>
                    </ng-container>
                </mat-autocomplete>
            </mat-form-field>
        </form>
    </div>
    <div class="search-tags">
        By: Name, Location
    </div>
</div>
